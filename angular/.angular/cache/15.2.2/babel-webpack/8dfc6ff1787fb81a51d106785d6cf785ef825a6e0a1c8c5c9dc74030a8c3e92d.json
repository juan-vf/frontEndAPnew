{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/languaje.service\";\nimport * as i2 from \"src/app/service/token.service\";\nimport * as i3 from \"src/app/service/modal-switch.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"./languaje-modal/languaje-modal.component\";\nfunction LanguajeComponent_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function LanguajeComponent_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.openModalLang());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 3);\n    i0.ɵɵelement(2, \"path\", 4);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LanguajeComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵelement(1, \"app-languaje-modal\", 6);\n    i0.ɵɵelementEnd();\n  }\n}\nexport class LanguajeComponent {\n  constructor(languajeService, tokenService, $swithLang, $switchUpdLang) {\n    this.languajeService = languajeService;\n    this.tokenService = tokenService;\n    this.$swithLang = $swithLang;\n    this.$switchUpdLang = $switchUpdLang;\n    this.languaje = [];\n    this.modalLang = false;\n    this.modalLangUpd = false;\n    this.admin = false;\n    this.isLogged = false;\n  }\n  ngOnInit() {\n    this.admin = this.isAdmin();\n    this.$swithLang.$modal.subscribe(value => {\n      this.modalLang = value;\n    });\n    this.$switchUpdLang.$modal.subscribe(value => {\n      this.modalLangUpd = value;\n    });\n    this.loadLang();\n    if (this.tokenService.getToken()) {\n      this.isLogged = true;\n    } else {\n      this.isLogged = false;\n    }\n  }\n  loadLang() {\n    this.languajeService.getLanguaje().subscribe(lang => {\n      this.languaje = lang;\n    });\n  }\n  isAdmin() {\n    let auths = this.tokenService.getAuthorities();\n    let admin;\n    auths.filter(auth => {\n      if (String(Object.values(auth)) === 'ROLE_ADMIN') {\n        admin = \"Admin\";\n      }\n    });\n    if (admin != undefined) {\n      return true;\n    }\n    return false;\n  }\n  openModalLang() {\n    this.modalLang = true;\n  }\n  openModalLangUpd() {\n    this.modalLangUpd = true;\n  }\n  deleteLang(id) {\n    if (id != undefined) {\n      this.languajeService.deleteLang(id).subscribe(data => {\n        this.loadLang();\n      }, err => {\n        alert(\"Error al eliminar lenguaje\");\n      });\n    }\n  }\n  getLogged() {\n    return this.isLogged;\n  }\n  getAdmin() {\n    return this.admin;\n  }\n}\nLanguajeComponent.ɵfac = function LanguajeComponent_Factory(t) {\n  return new (t || LanguajeComponent)(i0.ɵɵdirectiveInject(i1.LanguajeService), i0.ɵɵdirectiveInject(i2.TokenService), i0.ɵɵdirectiveInject(i3.ModalSwitchService), i0.ɵɵdirectiveInject(i3.ModalSwitchService));\n};\nLanguajeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LanguajeComponent,\n  selectors: [[\"app-languaje\"]],\n  decls: 4,\n  vars: 2,\n  consts: [[\"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"modalAddExp d-flex\", 4, \"ngIf\"], [\"type\", \"button\", 3, \"click\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-plus-square-fill\"], [\"d\", \"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6.5 4.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3a.5.5 0 0 1 1 0z\"], [1, \"modalAddExp\", \"d-flex\"], [1, \"row\", \"gx-0\", \"gy-0\"]],\n  template: function LanguajeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\")(1, \"div\");\n      i0.ɵɵtemplate(2, LanguajeComponent_button_2_Template, 3, 0, \"button\", 0);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, LanguajeComponent_div_3_Template, 2, 0, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.getLogged() && ctx.getAdmin());\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.modalLang === true);\n    }\n  },\n  dependencies: [i4.NgIf, i5.LanguajeModalComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAEQA,iCAAqF;IAA/DA;MAAAA;MAAA;MAAA,OAASA,qCAAe;IAAA,EAAC;IAC3CA,mBAAsI;IAAtIA,8BAAsI;IACtIA,0BAA4K;IAC9KA,iBAAM;;;;;IAGZA,8BAA2D;IACvDA,wCAAgE;IACpEA,iBAAM;;;ACCV,OAAM,MAAOC,iBAAiB;EAU5BC,YACUC,eAA+B,EAC/BC,YAAyB,EACzBC,UAA8B,EAC9BC,cAAkC;IAHlC,oBAAe,GAAfH,eAAe;IACf,iBAAY,GAAZC,YAAY;IACZ,eAAU,GAAVC,UAAU;IACV,mBAAc,GAAdC,cAAc;IAbxB,aAAQ,GAAe,EAAE;IAEzB,cAAS,GAAW,KAAK;IACzB,iBAAY,GAAW,KAAK;IAGpB,UAAK,GAAY,KAAK;IACtB,aAAQ,GAAW,KAAK;EAO9B;EAEFC,QAAQ;IACN,IAAI,CAACC,KAAK,GAAG,IAAI,CAACC,OAAO,EAAE;IAE3B,IAAI,CAACJ,UAAU,CAACK,MAAM,CAACC,SAAS,CAAEC,KAAK,IAAG;MACxC,IAAI,CAACC,SAAS,GAAGD,KAAK;IACxB,CAAC,CAAC;IACF,IAAI,CAACN,cAAc,CAACI,MAAM,CAACC,SAAS,CAAEC,KAAK,IAAG;MAC5C,IAAI,CAACE,YAAY,GAAGF,KAAK;IAC3B,CAAC,CAAC;IACF,IAAI,CAACG,QAAQ,EAAE;IACf,IAAG,IAAI,CAACX,YAAY,CAACY,QAAQ,EAAE,EAAC;MAC9B,IAAI,CAACC,QAAQ,GAAG,IAAI;KACrB,MAAI;MACH,IAAI,CAACA,QAAQ,GAAG,KAAK;;EAEzB;EAGQF,QAAQ;IACd,IAAI,CAACZ,eAAe,CAACe,WAAW,EAAE,CAACP,SAAS,CAAEQ,IAAI,IAAG;MACnD,IAAI,CAACC,QAAQ,GAAGD,IAAI;IACtB,CAAC,CAAC;EACJ;EACQV,OAAO;IACb,IAAIY,KAAK,GAAI,IAAI,CAACjB,YAAY,CAACkB,cAAc,EAAE;IAC/C,IAAId,KAAK;IACTa,KAAK,CAACE,MAAM,CAAEC,IAAI,IAAG;MAAE,IAAGC,MAAM,CAACC,MAAM,CAACC,MAAM,CAACH,IAAI,CAAC,CAAC,KAAK,YAAY,EAAC;QACrEhB,KAAK,GAAG,OAAO;;IAEjB,CAAC,CAAC;IACF,IAAGA,KAAK,IAAIoB,SAAS,EAAC;MACpB,OAAO,IAAI;;IAEb,OAAO,KAAK;EACd;EACAC,aAAa;IACX,IAAI,CAAChB,SAAS,GAAG,IAAI;EACvB;EACAiB,gBAAgB;IACd,IAAI,CAAChB,YAAY,GAAG,IAAI;EAC1B;EACAiB,UAAU,CAACC,EAAS;IAClB,IAAGA,EAAE,IAAIJ,SAAS,EAAC;MACjB,IAAI,CAACzB,eAAe,CAAC4B,UAAU,CAACC,EAAE,CAAC,CAACrB,SAAS,CAACsB,IAAI,IAAG;QACnD,IAAI,CAAClB,QAAQ,EAAE;MACjB,CAAC,EAAEmB,GAAG,IAAG;QACPC,KAAK,CAAC,4BAA4B,CAAC;MACrC,CAAC,CAAC;;EAEN;EAEOC,SAAS;IACd,OAAO,IAAI,CAACnB,QAAQ;EACtB;EACOoB,QAAQ;IACb,OAAO,IAAI,CAAC7B,KAAK;EACnB;;AAzEWP,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAqC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDX9B1C,+BAAS;MAEDA,wEAIS;MACbA,iBAAM;MACNA,kEAEM;MACVA,iBAAU;;;MATgDA,eAAiC;MAAjCA,wDAAiC;MAMtDA,eAAwB;MAAxBA,6CAAwB","names":["i0","LanguajeComponent","constructor","languajeService","tokenService","$swithLang","$switchUpdLang","ngOnInit","admin","isAdmin","$modal","subscribe","value","modalLang","modalLangUpd","loadLang","getToken","isLogged","getLanguaje","lang","languaje","auths","getAuthorities","filter","auth","String","Object","values","undefined","openModalLang","openModalLangUpd","deleteLang","id","data","err","alert","getLogged","getAdmin","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\EUloc\\Downloads\\New folder (3)\\angular\\src\\app\\components\\languaje\\languaje.component.html","C:\\Users\\EUloc\\Downloads\\New folder (3)\\angular\\src\\app\\components\\languaje\\languaje.component.ts"],"sourcesContent":["<section>\n    <div>\n        <button type=\"button\" (click)=\"openModalLang()\"  *ngIf=\"(getLogged() && getAdmin())\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-plus-square-fill\" viewBox=\"0 0 16 16\">\n            <path d=\"M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6.5 4.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3a.5.5 0 0 1 1 0z\"/>\n          </svg>\n        </button>\n    </div>\n    <div class=\"modalAddExp d-flex\" *ngIf=\"modalLang === true\">\n        <app-languaje-modal class=\"row gx-0 gy-0\" ></app-languaje-modal>\n    </div>\n</section>","import { Component } from '@angular/core';\nimport { Languaje } from 'src/app/model/languaje';\nimport { LanguajeService } from 'src/app/service/languaje.service';\nimport { ModalSwitchService } from 'src/app/service/modal-switch.service';\nimport { TokenService } from 'src/app/service/token.service';\n\n@Component({\n  selector: 'app-languaje',\n  templateUrl: './languaje.component.html',\n  styleUrls: ['./languaje.component.css']\n})\nexport class LanguajeComponent {\n  languaje: Languaje[] = [];\n\n  modalLang:boolean = false;\n  modalLangUpd:boolean = false;\n  langUpdId!:boolean;\n\n  private admin: boolean = false;\n  private isLogged:boolean = false;\n\n  constructor(\n    private languajeService:LanguajeService,\n    private tokenService:TokenService,\n    private $swithLang: ModalSwitchService, \n    private $switchUpdLang: ModalSwitchService,\n  ){}\n\n  ngOnInit(){\n    this.admin = this.isAdmin()\n\n    this.$swithLang.$modal.subscribe((value)=>{\n      this.modalLang = value;\n    });\n    this.$switchUpdLang.$modal.subscribe((value)=>{\n      this.modalLangUpd = value;\n    });\n    this.loadLang()\n    if(this.tokenService.getToken()){\n      this.isLogged = true;\n    }else{\n      this.isLogged = false;\n    }\n  }\n\n\n  private loadLang():void{\n    this.languajeService.getLanguaje().subscribe((lang)=>{\n      this.languaje = lang;\n    });\n  }\n  private isAdmin():boolean{\n    let auths =  this.tokenService.getAuthorities();\n    let admin;\n    auths.filter((auth)=> {if(String(Object.values(auth)) === 'ROLE_ADMIN'){\n      admin = \"Admin\"\n    }\n    });\n    if(admin != undefined){\n      return true;\n    }\n    return false;\n  }\n  openModalLang():void{\n    this.modalLang = true;\n  }\n  openModalLangUpd():void{\n    this.modalLangUpd = true;\n  }\n  deleteLang(id:number):void{\n    if(id != undefined){\n      this.languajeService.deleteLang(id).subscribe(data => {\n        this.loadLang();\n      }, err => {\n        alert(\"Error al eliminar lenguaje\")\n      })\n    }\n  }\n\n  public getLogged():boolean{\n    return this.isLogged;\n  }\n  public getAdmin():boolean{\n    return this.admin;\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}